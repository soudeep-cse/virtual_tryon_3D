<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D AR Virtual Try-On</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://threejs.org/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>
    <div id="container">
        <video id="video" autoplay muted playsinline></video>
        <canvas id="canvas3d"></canvas>
        
        <div id="fps">0 FPS</div>
        <div id="loading">Loading AR System...</div>
        <div id="debug-info" style="position: absolute; bottom: 20px; left: 20px; color: white; background: rgba(0,0,0,0.7); padding: 10px; border-radius: 5px; font-size: 12px; z-index: 3;">
            <div>Face Detected: <span id="face-status">No</span></div>
            <div>Model Loaded: <span id="model-status">No</span></div>
            <div>GLB Status: <span id="glb-status">Not loaded</span></div>
        </div>
        
        <div id="controls">
            <h3>Virtual Try-On Controls</h3>
            
            <div class="control-group">
                <label>Select Accessory:</label>
                <button onclick="loadAccessory('glasses')" class="active" id="btn-glasses">Glasses</button>
                <button onclick="loadAccessory('hat')" id="btn-hat">Hat</button>
                <!-- <button onclick="loadAccessory('mask')" id="btn-mask">Mask</button> -->
                <button onclick="clearAccessory()">Clear</button>
            </div>
            
            <div class="control-group">
                <label>Scale: <span id="scale-value">0.7</span></label>
                <input type="range" id="scale-slider" min="0.1" max="3.0" step="0.1" value="0.7">
            </div>
            
            <div class="control-group">
                <label>Y Position: <span id="y-pos-value">-22</span></label>
                <input type="range" id="y-pos-slider" min="-100" max="100" step="1" value="-22">
            </div>
            
            <div class="control-group">
                <label>Z Position: <span id="z-pos-value">-6</span></label>
                <input type="range" id="z-pos-slider" min="-50" max="50" step="1" value="-6">
            </div>
            
            <div class="control-group">
                <label>Rotation: <span id="rotation-value">0Â°</span></label>
                <input type="range" id="rotation-slider" min="-180" max="180" step="5" value="0">
            </div>
            
            <div class="control-group">
                <button onclick="toggleWireframe()">Toggle Wireframe</button>
                <button onclick="downloadScreenshot()">Screenshot</button>
            </div>
        </div>
    </div>

    <script src="js/scripts.js"></script>
</body>
</html>